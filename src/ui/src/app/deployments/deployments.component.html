<app-header-bar></app-header-bar>
<app-loader [loading]="loading">
  <app-panel class="app-panel--container">
    <section class="deployments">
      <header class="deployments__header">
        <div class="deployments__header__block">
          <h1 class="deployments__header__title">Deployments</h1>
        </div>
        <div class="deployments__header__block deployments__header__new">
          <a routerLink="/charts" href="/charts" md-button md-raised-button color="accent">
            New deployment
          </a>
        </div>
      </header>
      <div class="deployments__gallery">
        <div class="deployments__gallery__sidebar">
          <div class="sidebar_section">
              <h3 class="sidebar_section_title">Namespace</h3>
              <div class="sidebar_section_link" *ngFor="let ns of namespaces" [class.active]="ns == namespace" (click)='clickNamespace(ns)'>
                {{ ns }}
              </div>
          </div>
          <div class="sidebar_section">
              <h3 class="sidebar_section_title">Order By</h3>
              <div class="sidebar_section_link" *ngFor="let order of orders" [class.active]="order == orderBy" (click)='clickOrderBy(order)'>
                {{ order }}
              </div>
          </div>
        </div>
        <div class="deployments__gallery__content">
          <div class="deployments__gallery__content__topbar">
            <input type="text" placeholder="Search deployment..." (keyup)="searchChange($event)" />
          </div>
          <div class="deployments__gallery__content__list">
            <h3 *ngIf="!visibleDeployments.length" class="deployments__gallery__content__list__empty">There are no deployments</h3>
            <app-deployment-item *ngFor="let deployment of visibleDeployments" [deployment]=deployment></app-deployment-item>
          </div>
        </div>
      </div>
    </section>
  </app-panel>
</app-loader>
